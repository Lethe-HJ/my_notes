通常我们使用 ssh 与托管节点通信，默认使用 sftp.如果 sftp 不可用，可在 ansible.cfg 配置文件中配置成 scp 的方式.在托管节点上也需要安装 Python 2.4 或以上的版本.如果版本低于 Python 2.5 ,还需要额外安装python-simplejson模块

> 没安装python-simplejson,也可以使用Ansible的”raw”模块和script模块,因此从技术上讲,你可以通过Ansible的”raw”模块安装python-simplejson,之后就可以使用Ansible的所有功能了.

> 如果托管节点上开启了SElinux,你需要安装libselinux-python,这样才可使用Ansible中与copy/file/template相关的函数.你可以通过Ansible的yum模块在需要的托管节点上安装libselinux-python.

> 你需要安装一个 Python 2.X 解释器,并在 inventory (详见 Inventory文件) 中设置 ‘ansible_python_interpreter’ 变量指向你的 2.X Python.你可以使用 ‘raw’ 模块在托管节点上远程安装Python 2.X.

例如：

`$ ansible myhost --sudo -m raw -a "yum install -y python2 python-simplejson"`
这条命令可以通过远程方式在托管节点上安装 Python 2.X 和 simplejson 模块.

## 从源码安装的步骤

`$ git clone git://github.com/ansible/ansible.git --recursive`
``$ cd ./ansible`

然后`$ source ./hacking/env-setup`或者`$ . ./hacking/env-setup.fish`

如果你想抑制虚假的警告/错误，请使用:`$ source ./hacking/env-setup -q`

如果没有安装pip, 请先安装对应于你的Python版本的pip:

`$ sudo easy_install pip`

以下的Python模块也需要安装:

`$ sudo pip install paramiko PyYAML Jinja2 httplib2 six`

注意,当更新ansible版本时,不只要更新git的源码树,也要更新git中指向Ansible自身模块的 “submodules” (不是同一种模块)

`$ git pull --rebase`
`$ git submodule update --init --recursive`

一旦运行env-setup脚本,就意味着Ansible从源码中运行起来了.默认的inventory文件是 /etc/ansible/hosts.inventory文件也可以另行指定 (详见 Inventory文件) :


## yum安装

`$ sudo yum install ansible`

`$ ansible --version`查看版本


## 简单测试

在此之前需要先对192.168.7.153和192.168.7.154节点做无密码登录配置

`$ echo "192.168.7.153" >> /etc/ansible/hosts`
`$ echo "192.168.7.154" >> /etc/ansible/hosts`
`$ export ANSIBLE_HOSTS=/etc/ansible/hosts`

`$ ansible all -m ping`




