# 网络服务基础

## CentOS 7.x 配置文件/网卡改名网卡配置文件

配置文件目录:`/etc/sysconfig/network-scripts/ifcfg-ens33`
配置管理命令:`ifconfig/ip address show`
配置文件内容:

    DEVICE=ens33
    #设备名称
    NAME=ens33
    #网卡名称
    BOOTPROTO=static
    #连接方式(dhcp/static)
    ONBOOT=yes
    #是否开机加载
    IPADDR=192.168.12.250
    #IP地址
    NETMASK=255.255.255.0
    #子网掩码(cnetos7中可以换成PREFIX=24)
    GATEWAY=192.168.12.1
    #网关
    DNS1=8.8.8.8
    #DNS
 
> 注意:网卡配置文件内,选项要大写,小写不报错,但不生效,参数可小写IP地址配置-CentOS 7 修改网卡名

## 常见网络协议和端口网络地址和物理地址

网络地址: 互联网协议地址(IP地址)为互联网上每一个网络或主机分配一
个逻辑地址,IP地址工作在网络层
IP的分类:IPV4 IPV6
物理地址: 物理地址(MAC地址)为每一个设备设置一个固定的硬件地址,
MAC地址工作在链路层
MAC地址:00-23-5A-15-99-42TCP/IP五层常见协议
应用层协议:FTP、HTTP、SMTP、Telnet、DNS等
传输层协议:TCP、UDP等
网络层协议:IP、ICMP、ARP等
数据链路层协议:PPP协议等
物理层:

### 常见网络端口
端口配置文件:`/etc/service`
20/21 ftp服务
22 ssh服务
23 telnet服务
25 smtp:简单邮件传输协议
465 smtp(ssl)
110 pop3:邮局协议
143 imap4
993 imap4(ssl)
80 www服务(http://)
443 www服务(https://)
3306 mysql端口
53 DNS端口

### Linux下网关路由配置网关和路由

• 路由:
+ 不同网段数据转发
+ 路由选择

• 网关:
+ 不同网段数据转发
+ 路由选择
+ 默认路由
+ NAT转换网关和路由设置

`route -n`
查看系统中的路由表信息

临时网关:
添加:`route add default gw ip`
删除:`route del default gw ip`

永久网关:
`/etc/sysconfig/network-scripts/ifcfg-eth04`

`nslookup`: 域名解析测试命令

配置文件:
局部:`/etc/sysconfig/network-scripts/ifcfg-eth0`

    DNS=ip

全局:`/etc/resolv.conf`

    nameserver ip

相关配置文件:`/etc/hosts`网络查看命令
`netstat` 查看系统的网络连接状态、路由信息、接口等
常用选项:
- -a:显示所有活动连接
- -n:以数字形式显示
- -t:查看TCP协议相关信息
- -u:查看UDP协议相关信息
- -p:显示PID和进程名
- -l:监听网络查看命令

`traceroute`: 测试从当前主机到目的主机之间经过的网络节点数,用于追
踪数据包在网络上传输时的全部路径,它默认发送的数据包大小是40字节,
默认使用ICMP协议
常用选项:
- -p 使用UDP端口进行测试,默认端口为33434
- -q 指定测试时发送的数据包个数(即测试次数)
- -n 以IP的方式进行连接测试,避开DNS的解析
注意:该命令在使用NAT模式时无法实现效果,请切换桥接模式(官方回复)连通测试命令

`ping`: 测试网络连通性
常见选项:
- -i 指定间隔时间
- -c 指定ping的次数
- -s 指定数据包的大小地址解析命令

`arp`: 地址解析协议,将ip地址解析成MAC地址
常见选项:
- -a 查看所有
- -d ip地址,删除某条ARP记录网络探测命令

`nmap`: 网络探测扫描命令 #此命令默认未安装
- -sP 探测某网段内有哪些主机是存活的
- -sT 探测某主机上开启了哪些TCP端口远程连接工具


Windows → Linux: Xshell、SecureCRT等
Linux → Windwos: rdesktop命令(图形界面)
Linux → Linux: ssh命令