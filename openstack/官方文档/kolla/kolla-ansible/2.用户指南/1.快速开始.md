# 快速开始

本指南提供了使用Kolla在裸机服务器或虚拟机上部署OpenStack的步骤说明。

## 推荐阅读

在运行Kolla-Ansible之前，学习Ansible和Docker的基础知识是有益的。

## 主机需求


+ 2张网卡
+ 8GB的主存
+ 40GB磁盘空间  

> 需要对部署主机进行根访问

## 安装依赖关系

在继续之前，请确保安装了pip包管理器并将其升级到最新版本。

对于centos,执行

    yum install epel-release
    yum install python-pip
    pip install -U pip

对于ubuntu,执行

    apt-get update
    apt-get install python-pip
    pip install -U pip

要使用pip包管理器构建代码，请安装以下依赖项:

对于centos,执行

    yum install python-devel libffi-devel gcc openssl-devel libselinux-python

对于ubuntu,执行

    apt-get install python-dev libffi-dev gcc libssl-dev python-selinux

Kolla使用Ansible部署OpenStack。安装Ansible从分布包装如果发行版包装已建议的版本可用。

## 准备初始配置

### Inventory

下一步是准备我们的清单文件。Inventory是一个ansible文件，我们在其中指定节点角色和访问凭据。

Kolla-Ansiblea准备有all-in-one 和 multinode 的inventory示例文件。它们之间的区别是，前者可以在本地主机上部署单节点OpenStack。如果您需要使用单独的主机或一个以上的节点，编辑多节点库存:

编辑多节点的第一节与你的环境的连接细节，例如:

    [control]
    10.0.0.[10:12] ansible_user=ubuntu ansible_password=foobar ansible_become=true
    # Ansible supports syntax like [10:12] - that means 10, 11 and 12.
    # Become clausule means "use sudo".

    [network:children]
    control
    # when you specify group_name:children, it will use contents of group specified.

    [compute]
    10.0.0.[13:14] ansible_user=ubuntu ansible_password=foobar ansible_become=true

    [monitoring]
    10.0.0.10
    # This group is for monitoring node.
    # Fill it with one of the controllers' IP address or some others.

    [storage:children]
    compute

    [deployment]
    localhost       ansible_connection=local become=true
    # use localhost and sudo

要了解更多关于inventory文件，请查看Ansible文档。

为了确认我们的inventory是正确的，运行：

    ansible -m ping all

> Ubuntu可能没有预装python。这将导致ping模块中的错误。要快速安装python与ansible你可以运行` ansible -i multinode all -m raw -a "apt-get -y install python-dev"`

## Kolla passwords

部署中使用的密码存储在`/etc/kolla/passwords.yml`文件中

